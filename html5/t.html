<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		
	</style>
</head>
<body>
	<canvas id="canvas" width="500" height="500" style="border: 1px solid #000"></canvas>
</body>
	<script type="text/javascript">
		var canvas = document.getElementById('canvas');
		var ctx = canvas.getContext('2d');
		var start = -90;
		var end = -90;
		var timer = setInterval(function(){
			ctx.clearRect(0,0,500,500);
			end+=1;
			//绘制圆弧
			ctx.beginPath();
			ctx.arc(250,250,100,start*Math.PI/180,end*Math.PI/180);
			if(end-start<120){
				ctx.strokeStyle="red";
				ctx.fillStyle="red";
			}else if(end-start<240){
				ctx.strokeStyle="orange";
				ctx.fillStyle="orange";
			}else{
				ctx.strokeStyle="green";
				ctx.fillStyle="green";
			}
			ctx.stroke();

			//绘制文字
			var persent = Math.floor((end-start)/360*100)+'%';
			var textWidth=ctx.measureText(persent).width;
			ctx.font="40px Microsoft Yahei";
			ctx.lineWidth="20";
			ctx.fillText(persent,250-textWidth/2,250+20-5);
			if(end>=270){
				clearInterval(timer);
			}
		},10)
	</script>
</html>